--服务应用表
CREATE TABLE FWZX_PROJECT(
ID VARCHAR(32) PRIMARY KEY,
IP VARCHAR(32),
NAME VARCHAR(60),
PORT VARCHAR(32),
STATE VARCHAR(32),
DESCRIPTION VARCHAR(255),
PROVIDER VARCHAR(255),
REG_TIME TIMESTAMP(0),
FILE_NAME VARCHAR(255),
FILE_PATH VARCHAR(255),
CHECK_STATE VARCHAR(32),
TEST_URL VARCHAR(255)
);

--服务路由表
CREATE TABLE FWZX_ROUTE(
ID VARCHAR(32) PRIMARY KEY,
PROJECT_ID VARCHAR(60) REFERENCES FWZX_PROJECT(ID) ON DELETE CASCADE,
SERVER_NAME VARCHAR(60),
SERVER_ADDR VARCHAR(255),
DATA_RETURN_TYPE VARCHAR(32),
DESCRIPTION VARCHAR(255),
REG_TIME TIMESTAMP(0)
);

--服务使用者表
CREATE TABLE FWZX_USAGE(
ID VARCHAR(32) PRIMARY KEY,
IP VARCHAR(32),
NAME VARCHAR(255),
DESCRIPTION VARCHAR(255)
);

--使用者_服务表
CREATE TABLE FWZX_USAGE_PROJECT(
USAGE_ID VARCHAR(32) REFERENCES FWZX_USAGE(ID) ON DELETE CASCADE,
PROJECT_ID VARCHAR(32) REFERENCES FWZX_PROJECT(ID) ON DELETE CASCADE,
PRIMARY KEY (USAGE_ID,PROJECT_ID)
);


--操作记录表
CREATE TABLE FWZX_OPERATION(
ID VARCHAR(32) PRIMARY KEY,
IP VARCHAR(32),
USER_NAME VARCHAR(255),
SERVER_NAME VARCHAR(60),
PROJECT_NAME VARCHAR(60),
RESULT VARCHAR(32),
OPERATE_TIME TIMESTAMP(0),
DESCRIPTION VARCHAR(255)
);

--文件上传附件
CREATE TABLE FWZX_ATTACH(
  ID VARCHAR(32) PRIMARY KEY,
  NAME VARCHAR(60),
  PATH VARCHAR(255),
  FILE_SIZE DECIMAL(20,0),
  CREATE_TIME TIMESTAMP(6),
  TYPE VARCHAR(20),
  MIME VARCHAR(255)
);

--用户
CREATE TABLE FWZX_USER(
	ID VARCHAR(32) PRIMARY KEY,
	ACCOUNT VARCHAR(60),
	PASSWORD VARCHAR(20),
	NICKNAME VARCHAR(20),
	REGISTERTIME TIMESTAMP(0),
	ACCOUNTSTATE VARCHAR(20),
	TELEPHONE VARCHAR(11),
	EMAIL VARCHAR(60)
);

--角色
CREATE TABLE FWZX_ROLE(
	ID VARCHAR(32) PRIMARY KEY,
	NAME VARCHAR(255),
	DESCRIPTION VARCHAR(255)
);


--用户_角色
CREATE TABLE FWZX_USER_ROLE(
	USER_ID VARCHAR(32) REFERENCES FWZX_USER(ID) ON DELETE CASCADE,
	ROLE_ID VARCHAR(32) REFERENCES FWZX_ROLE(ID) ON DELETE CASCADE
);


--资源权限
CREATE TABLE FWZX_RESOURCE(
	ID VARCHAR(32) PRIMARY KEY,
	PARENT_ID VARCHAR(32),
	NAME VARCHAR(255),
	NICKNAME VARCHAR(255),
	DESCRIPTION VARCHAR(255)
);

--角色_资源表
CREATE TABLE FWZX_ROLE_RESOURCE(
	ROLE_ID VARCHAR(32) REFERENCES FWZX_ROLE(ID) ON DELETE CASCADE,
	RESOURCE_ID VARCHAR(32) REFERENCES FWZX_RESOURCE(ID) ON DELETE CASCADE
);


--初始化用户数据
INSERT INTO FWZX_USER VALUES ('e52beb9f263b4d9799fb4e060181be3e', 'register', 'register', '服务注册者', NULL, '正常', NULL, NULL);
INSERT INTO FWZX_USER VALUES ('9e0848e0fe4d45e49cfed56a75d82e2d', 'usager', 'usager', '服务使用者者', NULL, '正常', NULL, NULL);
INSERT INTO FWZX_USER VALUES ('bddacea3a5c2493f97fdcde00c616b5b', 'admin', 'admin', '管理员', NULL, '正常', NULL, NULL);

--初始化角色数据
INSERT INTO FWZX_ROLE VALUES ('1fab9431441c498987fe187f3c193786', 'register', '服务注册者');
INSERT INTO FWZX_ROLE VALUES ('96219eaf1e324971b509c2afc4fb270b', 'usager', '服务使用者');
INSERT INTO FWZX_ROLE VALUES ('94ba1eb205124e0c993c895fdbaa2646', 'superAdministrator', '超级管理员');
INSERT INTO FWZX_ROLE VALUES ('a5516bc792734a0993ebbafa359aabaf', 'admin', 'admin用户');

--初始化用户和角色关系的数据
INSERT INTO FWZX_USER_ROLE VALUES ('9e0848e0fe4d45e49cfed56a75d82e2d', '96219eaf1e324971b509c2afc4fb270b');
INSERT INTO FWZX_USER_ROLE VALUES ('bddacea3a5c2493f97fdcde00c616b5b', '94ba1eb205124e0c993c895fdbaa2646');
INSERT INTO FWZX_USER_ROLE VALUES ('e52beb9f263b4d9799fb4e060181be3e', '1fab9431441c498987fe187f3c193786');
INSERT INTO FWZX_USER_ROLE VALUES ('9e0848e0fe4d45e49cfed56a75d82e2d', '96219eaf1e324971b509c2afc4fb270b');
INSERT INTO FWZX_USER_ROLE VALUES ('bddacea3a5c2493f97fdcde00c616b5b', '94ba1eb205124e0c993c895fdbaa2646');
INSERT INTO FWZX_USER_ROLE VALUES ('e52beb9f263b4d9799fb4e060181be3e', '1fab9431441c498987fe187f3c193786');

--初始化资源数据
INSERT INTO FWZX_RESOURCE VALUES ('3fcc1a115f3941b3b2fe7d49ea44a1ea', '0', 'add', '增加', '增加');
INSERT INTO FWZX_RESOURCE VALUES ('5ee8f876134a48068a5466df4cdcd8c5', '0', 'update', '更新', '更新');
INSERT INTO FWZX_RESOURCE VALUES ('49fcb6383eec4113a22da9264c811ed2', '0', 'delete', '删除', '删除');
INSERT INTO FWZX_RESOURCE VALUES ('844d947d5933437a8777446c2a0227ee', '0', 'check', '审核', '审核');
INSERT INTO FWZX_RESOURCE VALUES ('e4c5cd1ce7a34127b2ca8ac1933a9c1d', '0', 'service', '应用服务', '应用服务模块');
INSERT INTO FWZX_RESOURCE VALUES ('9c77c19308244ff59b662a743a1773fd', '0', 'monitor', '监控服务', '监控服务模块');
INSERT INTO FWZX_RESOURCE VALUES ('88e92f9ec34143daa5319a97696d9335', '0', 'usage', '使用者管理', '使用者模块');
INSERT INTO FWZX_RESOURCE VALUES ('2a099ea21ae945e4af0a09ca460a7a6e', '0', 'system', '系统管理', '系统管理模块');
INSERT INTO FWZX_RESOURCE VALUES ('9039865662bf45bbaa2fe268b16c78cd', '0', 'config', '配置管理', '配置管理模块');

--初始化角色和资源的关系数据
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('96219eaf1e324971b509c2afc4fb270b', '88e92f9ec34143daa5319a97696d9335');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', 'e4c5cd1ce7a34127b2ca8ac1933a9c1d');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '9c77c19308244ff59b662a743a1773fd');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '88e92f9ec34143daa5319a97696d9335');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '2a099ea21ae945e4af0a09ca460a7a6e');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '9039865662bf45bbaa2fe268b16c78cd');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('96219eaf1e324971b509c2afc4fb270b', 'e4c5cd1ce7a34127b2ca8ac1933a9c1d');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '3fcc1a115f3941b3b2fe7d49ea44a1ea');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '5ee8f876134a48068a5466df4cdcd8c5');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '49fcb6383eec4113a22da9264c811ed2');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('94ba1eb205124e0c993c895fdbaa2646', '844d947d5933437a8777446c2a0227ee');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('1fab9431441c498987fe187f3c193786', '3fcc1a115f3941b3b2fe7d49ea44a1ea');
INSERT INTO FWZX_ROLE_RESOURCE VALUES ('1fab9431441c498987fe187f3c193786', 'e4c5cd1ce7a34127b2ca8ac1933a9c1d');






